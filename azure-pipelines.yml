trigger:
- main 

pool: 
  vmImage: 'ubuntu-latest'

stages:
- stage: CI
  jobs:
  - job: CI
    steps:
    - script: env
      displayName: env
    - script: npm install
      displayName: Downlaod NodeJS Dependencies
    - script: docker build -t 000100000/cartnew .
      displayName: Docker Build

- stage: DockerUpload
  condition: succeeded('CI')
  jobs:
  - job: DockerUpload
    steps:
    - script: |
        docker login -u 000100000 -p Orange@012
        docker tag 000100000/cartnew 000100000/cartnew:latest
        docker push 000100000/cartnew:latest
      displayName: Docker Image Push to docker hub



   

    






